var contactInformationApp=angular.module("contactInformationApp",[]);function ContactInformationController(t,n,c){var a=this;function r(){return n.newContactInfoModel()}a.contacts=[],a.contact={},a.saveContact=function(o,t){a.contact.firstName&&a.contact.lastName&&a.contact.email&&a.contact.phone?(void 0!==o&&void 0!==a.contact.id?(angular.forEach(a.contacts,function(t){t.id==o&&(t=angular.copy(a.contact))}),c.toastSuccess("Success: contact edited!")):(a.contact.id=n.generateId(),a.contacts.push(a.contact),c.toastSuccess("Success: contact created!")),a.clearForm(),t.$setPristine(),t.$setUntouched()):c.toastError("Error: incomplete contact can't be created")},a.clearForm=function(){a.contact=r()},a.editContact=function(t){var o;a.contact=(o=t,a.contacts.filter(function(t){return t.id==o})[0]||void 0||r())},a.deleteContact=function(o){a.contacts=a.contacts.filter(function(t){return t.id!=o}),a.clearForm()},a.contact=r()||{}}function contactInformationFactory(){var t=0;return{newContactInfoModel:function(){return{id:void 0,firstName:void 0,lastName:void 0,email:void 0,phone:void 0,isActive:!0}},generateId:function(){return++t}}}function utilFactory(){return{toastError:function(t){Materialize.toast(t,5e3,"red darken-2")},toastSuccess:function(t){Materialize.toast(t,5e3,"green darken-3")}}}contactInformationApp.controller("ContactInformationController",["$scope","contactInformationFactory","utilFactory",ContactInformationController]),contactInformationApp.factory("contactInformationFactory",contactInformationFactory),contactInformationApp.factory("utilFactory",utilFactory);