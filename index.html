<!DOCTYPE html>
<html lang="en" ng-app="contactInformationApp">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>
	
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<style>
		.icon-btn {
			cursor: pointer;
		}
	</style>
</head>
<body>
<div class="container ng-cloak" ng-controller="ContactInformationController as contactInfoCtrl">
    <div class="row">
        <div class="col m12 s12">
			<div class="card">
				<div class="card-content">
					<h5 class="center-align">Add Contact</h5>
					<div class="row">
						<form class="col s12" name="form">
							<div class="row">
								<div class="input-field col m6 s12">
									<input id="first_name" type="text" class="validate" ng-model="contactInfoCtrl.contact.firstName" value="{{contactInfoCtrl.contact.firstName}}" required>
									<label for="first_name">First Name</label>
								</div>
								<div class="input-field col m6 s12">
									<input id="last_name" type="text" class="validate" ng-model="contactInfoCtrl.contact.lastName" value="{{contactInfoCtrl.contact.lastName}}" required>
									<label for="last_name">Last Name</label>
								</div>
							</div>
							<div class="row">
								<div class="input-field col m6 s12">
									<input id="email" type="email" class="validate" ng-model="contactInfoCtrl.contact.email" value="{{contactInfoCtrl.contact.email}}" required>
									<label for="email">Email</label>
								</div>
								<div class="input-field col m6 s12">
									<input id="phone" type="text" class="validate" maxlength="10" minlength="10" pattern="\d*" ng-model="contactInfoCtrl.contact.phone" value="{{contactInfoCtrl.contact.phone}}" required>
									<label for="phone">Phone</label>
								</div>
							</div>
							<div class="row">
								<div class="col m6">
									<div class="input-field left">
										<label for="status">Status</label>
									</div>
									<div class="input-field switch col m10 right">
										<label>
										  <input id="status" type="checkbox" ng-model="contactInfoCtrl.contact.isActive" value="{{contactInfoCtrl.contact.isActive}}" ng-custom-true="true" ng-custom-false="false" checked="checked">
										  <span class="lever"></span>
										</label>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col m12 right-align">
								 <button class="btn btn-medium waves-effect waves-light" type="button" name="action" ng-click="contactInfoCtrl.saveContact(contactInfoCtrl.contact.id)">Save</button>
								 <button class="btn btn-medium waves-effect waves-light" type="button" name="action" ng-click="contactInfoCtrl.clearForm()">Cancel</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
        </div>
    </div>
    <div class="row">
        <div class="col m12 s12">
			<div class="card">
				<div class="card-content">
					<h5 class="center-align">Contacts</h5>
					<span ng-if="!contactInfoCtrl.contacts.length > 0" class="teal-text text-lighten-1">No Contacts. Please add few...</span>
					<table ng-if="contactInfoCtrl.contacts.length > 0">
						<thead>
						  <tr>
							  <th>Name</th>
							  <th>Email</th>
							  <th>Phone</th>
							  <th>Status</th>
							  <th>Actions</th>
						  </tr>
						</thead>

						<tbody>
						  <tr ng-repeat="contact in contactInfoCtrl.contacts track by contact.id">
							<td>{{contact.firstName}} {{contact.lastName}}</td>
							<td>{{contact.email}}</td>
							<td>{{contact.phone}}</td>
							<td>
								<span ng-if="!contact.isActive" class="new badge red darken-1" data-badge-caption="">Inactive</span>
								<span ng-if="contact.isActive" class="new badge green darken-3" data-badge-caption="">Active</span>
							</td>
							<td>
								<i class="material-icons icon-btn" ng-click="contactInfoCtrl.editContact(contact.id)">edit</i>
								<i class="material-icons icon-btn" ng-click="contactInfoCtrl.deleteContact(contact.id)">delete</i>
							</td>
						  </tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
    </div>
</div>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.1/angular.min.js"></script>
<script type="text/javascript" src="./js/app.js"></script>
<script type="text/javascript" src="./js/factory.js"></script>
<script type="text/javascript" src="./js/controller.js"></script>
</body>

</html>
